/*
 * Restricted Sticky Scroll v1.0
 * Copyright 2014, Pablo Fabregat
 */
(function(a){a.fn.restrictedStickyScroll=function(b){var f={childObject:this.find("div").first(),easing:"swing",duration:0};var b=a.extend({},f,b);var e={el:b.childObject,height:b.childObject.outerHeight(true),left:b.childObject.offset().left,top:b.childObject.offset().top,wrapperHeight:this.outerHeight(true)};var d={el:this,wrapperTop:this.offset().top,wrapperHeight:this.height(),wrapperOuterHeight:this.outerHeight(),wrapperLeft:this.offset().left,wrapperWidth:this.width(),topPos:a(this).wrapperOuterHeight-e.el.outerHeight(),scrollPos:a(window).scrollTop()-a(this).wrapperTop,windowTop:a(window).scrollTop()};if(d.wrapperHeight>e.height){a(window).scroll(function(){d.wrapperOuterHeight=d.el.outerHeight();d.topPos=d.wrapperOuterHeight-e.el.outerHeight();d.scrollPos=a(window).scrollTop()-d.wrapperTop;d.windowTop=a(window).scrollTop();if(a(window).scrollTop()>=d.wrapperTop){if((a(window).scrollTop()-d.wrapperTop)<d.topPos){e.el.stop().animate({top:(a(window).scrollTop()-d.wrapperTop)+"px"},{easing:b.easing,duration:b.duration})}else{e.el.stop().animate({top:d.topPos+"px"},{easing:b.easing,duration:b.duration})}}else{c()}});a(window).resize(function(){})}function c(){e.el.animate({top:"0px"},{easing:b.easing,duration:b.duration})}}})(jQuery);